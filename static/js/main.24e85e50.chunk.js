(this["webpackJsonppokemon-db"]=this["webpackJsonppokemon-db"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0),s=n.n(o),c=n(16),a=n.n(c),i=n(19),l=n(12),u=n(3),p=n(8),m=n(9),j=n(14),h=n(13),d=(n(38),function(e){var t=e.pokemon,n=t.id,o=t.name;return Object(r.jsxs)("div",{className:"pokemon-list-item",children:[Object(r.jsx)("div",{className:"pokemon-img",children:Object(r.jsx)("img",{className:"pokemon-image",src:"https://pokeres.bastionbot.org/images/pokemon/".concat(n,".png"),alt:o})}),Object(r.jsx)("div",{className:"pokemon-details",children:Object(r.jsx)("div",{className:"pokemon-name",children:o.charAt(0).toUpperCase()+o.slice(1)})})]})}),b=(n(39),function(){return Object(r.jsx)("div",{className:"loadingio-spinner-spinner-3oqlumcrxit",children:Object(r.jsxs)("div",{className:"ldio-mzy1cv9q2v9",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})}),O=(n(40),function(){return Object(r.jsx)("div",{children:"Error!"})}),k=n(26),f=s.a.createContext(),x=f.Provider,v=f.Consumer,g=function(){return function(e){return function(t){return Object(r.jsx)(v,{children:function(n){return Object(r.jsx)(e,Object(k.a)(Object(k.a)({},t),{},{pokemonService:n}))}})}}},y=function(e,t){return function(){t({type:"FETCH_ALL_POKEMONS_REQUEST"}),e.getAllPokemons().then((function(e){return t({type:"FETCH_ALL_POKEMONS_SUCCESS",payload:e})})).catch((function(e){return t({type:"FETCH_ALL_POKEMONS_FAILURE",payload:e})}))}},N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},E=(n(41),function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAllPokemons()}},{key:"render",value:function(){var e=this,t=this.props,n=t.pokemons,o=t.loading,s=t.error;return o?Object(r.jsx)(b,{}):s?Object(r.jsx)(O,{}):Object(r.jsx)("ul",{className:"item-list list-group",children:n.map((function(t){return Object(r.jsx)("li",{className:"list-group-item",onClick:function(){return e.props.onPokemonSelected(t.name)},children:Object(r.jsx)(d,{pokemon:t,onClick:function(){return e.props.onPokemonSelected(t.name)}})},t.name)}))})}}]),n}(o.Component)),_=N(g(),Object(i.b)((function(e){var t=e.pokemonList;return{pokemons:t.pokemons,loading:t.loading,error:t.error}}),(function(e,t){var n=t.pokemonService;return{fetchAllPokemons:y(n,e)}})))(E),P=Object(u.f)((function(e){var t=e.history;return Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsx)(_,{onPokemonSelected:function(e){t.push("/".concat(e))}})})})),S=n(10),C=n.n(S),A=n(20),w=function(){function e(){Object(p.a)(this,e),this._apiBase="https://pokeapi.co/api/v2",this._transformPokemons=function(e){return{id:e.url.match(/\/([0-9]*)\/$/)[1],name:e.name}},this._transformPokemon=function(e){return{id:e.id,name:e.name,experience:e.base_experience,height:e.height,weight:e.weight,types:e.types,abilities:e.abilities,stats:e.stats}}}return Object(m.a)(e,[{key:"getResource",value:function(){var e=Object(A.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllPokemons",value:function(){var e=Object(A.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/pokemon/");case 2:return t=e.sent,e.abrupt("return",t.results.map(this._transformPokemons));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokemon",value:function(){var e=Object(A.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/pokemon/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",this._transformPokemon(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),L=(n(44),function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).pokemonService=new w,e.state={pokemon:null},e}return Object(m.a)(n,[{key:"updatePokemon",value:function(){var e=this,t=this.props.pokemonName;t&&this.pokemonService.getPokemon(t).then((function(t){e.setState({pokemon:t})}))}},{key:"componentDidMount",value:function(){this.updatePokemon()}},{key:"componentDidUpdate",value:function(e){this.props.pokemonName!==e.pokemonName&&this.updatePokemon()}},{key:"render",value:function(){return this.state.pokemon?Object(r.jsxs)("div",{className:"pokemon-details card",children:[Object(r.jsx)("img",{className:"pokemon-image",src:"https://pokeres.bastionbot.org/images/pokemon/".concat(this.state.pokemon.id,".png"),alt:this.state.pokemon.name.charAt(0).toUpperCase()+this.state.pokemon.name.slice(1)}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h4",{children:this.state.pokemon.name.charAt(0).toUpperCase()+this.state.pokemon.name.slice(1)}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Base Experience"}),Object(r.jsx)("span",{children:this.state.pokemon.experience})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Height"}),Object(r.jsx)("span",{children:this.state.pokemon.height})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Weight"}),Object(r.jsx)("span",{children:this.state.pokemon.weight})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Types"}),this.state.pokemon.types.map((function(e,t,n){return Object(r.jsx)("span",{children:t!==n.length-1?"".concat(e.type.name,", "):"".concat(e.type.name)},e.type.name)}))]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Abilities"}),this.state.pokemon.abilities.map((function(e,t,n){return Object(r.jsx)("li",{className:"list-group-item",children:Object(r.jsx)("span",{children:e.ability.name})},e.ability.name)}))]})]})]})]}):"Lodofkdfokdlfk"}}]),n}(o.Component)),T=(n(45),function(){return Object(r.jsx)("div",{className:"header d-flex",children:Object(r.jsx)(l.b,{to:"/",children:Object(r.jsx)("div",{className:"logo",href:"#",children:"Pokemon DB"})})})}),U=(n(46),function(){return Object(r.jsxs)("main",{role:"main",className:"container",children:[Object(r.jsx)(T,{}),Object(r.jsx)("div",{className:"row mb2",children:Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/pokemon-db/",component:P,exact:!0}),Object(r.jsx)(u.a,{path:"/:name",render:function(e){var t=e.match.params.name;return Object(r.jsx)(L,{pokemonName:t})}})]})})]})}),F=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={hasError:!1},e}return Object(m.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(r.jsx)(O,{}):this.props.children}}]),n}(o.Component),M=n(18),H=function(e,t){if(void 0===e)return{pokemons:[],loading:!0,error:null};switch(t.type){case"FETCH_ALL_POKEMONS_REQUEST":return{pokemons:[],loading:!0,error:null};case"FETCH_ALL_POKEMONS_SUCCESS":return{pokemons:t.payload,loading:!1,error:null};case"FETCH_ALL_POKEMONS_FAILURE":return{pokemons:[],loading:!1,error:t.payload};default:return e.pokemonList}},R=function(e,t){if(void 0===e)return{pokemon:{},loading:!0,error:null};switch(t.type){case"FETCH_POKEMON_REQUEST":return{pokemon:{},loading:!0,error:null};case"FETCH_POKEMON_SUCCESS":return{pokemon:t.payload,loading:!1,error:null};case"FETCH_POKEMON_FAILURE":return{pokemon:{},loading:!1,error:t.payload};default:return e.pokemonDetails}},K=function(e,t){return{pokemonList:H(e,t),pokemonDetails:R(e,t)}},D=Object(M.b)(K),B=new w;a.a.render(Object(r.jsx)(i.a,{store:D,children:Object(r.jsx)(F,{children:Object(r.jsx)(x,{value:B,children:Object(r.jsx)(l.a,{children:Object(r.jsx)(U,{})})})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.24e85e50.chunk.js.map