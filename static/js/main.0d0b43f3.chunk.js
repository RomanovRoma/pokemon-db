(this["webpackJsonppokemon-db"]=this["webpackJsonppokemon-db"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),o=n.n(c),s=n(16),a=n.n(s),i=n(19),u=n(12),l=n(3),p=n(8),m=n(9),j=n(14),d=n(13),h=(n(38),function(e){var t=e.pokemon,n=t.id,c=t.name;return Object(r.jsxs)("div",{className:"pokemon-list-item",children:[Object(r.jsx)("div",{className:"pokemon-img",children:Object(r.jsx)("img",{className:"pokemon-image",src:"https://pokeres.bastionbot.org/images/pokemon/".concat(n,".png"),alt:c})}),Object(r.jsx)("div",{className:"pokemon-details",children:Object(r.jsx)("div",{className:"pokemon-name",children:c.charAt(0).toUpperCase()+c.slice(1)})})]})}),b=(n(39),function(){return Object(r.jsx)("div",{className:"loadingio-spinner-spinner-3oqlumcrxit",children:Object(r.jsxs)("div",{className:"ldio-mzy1cv9q2v9",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})}),O=(n(40),function(){return Object(r.jsx)("div",{children:"Error!"})}),f=n(26),k=o.a.createContext(),x=k.Provider,v=k.Consumer,g=function(){return function(e){return function(t){return Object(r.jsx)(v,{children:function(n){return Object(r.jsx)(e,Object(f.a)(Object(f.a)({},t),{},{pokemonService:n}))}})}}},y=function(e,t){return function(){t({type:"FETCH_ALL_POKEMONS_REQUEST"}),e.getAllPokemons().then((function(e){return t({type:"FETCH_ALL_POKEMONS_SUCCESS",payload:e})})).catch((function(e){return t({type:"FETCH_ALL_POKEMONS_FAILURE",payload:e})}))}},N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},E=(n(41),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAllPokemons()}},{key:"render",value:function(){var e=this,t=this.props,n=t.pokemons,c=t.loading,o=t.error;return c?Object(r.jsx)(b,{}):o?Object(r.jsx)(O,{}):Object(r.jsx)("ul",{className:"item-list list-group",children:n.map((function(t){return Object(r.jsx)("li",{className:"list-group-item",onClick:function(){return e.props.onPokemonSelected(t.name)},children:Object(r.jsx)(h,{pokemon:t,onClick:function(){return e.props.onPokemonSelected(t.name)}})},t.name)}))})}}]),n}(c.Component)),_=N(g(),Object(i.b)((function(e){var t=e.pokemonList;return{pokemons:t.pokemons,loading:t.loading,error:t.error}}),(function(e,t){var n=t.pokemonService;return{fetchAllPokemons:y(n,e)}})))(E),P=Object(l.f)((function(e){var t=e.history;return Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsx)(_,{onPokemonSelected:function(e){t.push("/".concat(e))}})})})),S=n(10),C=n.n(S),w=n(20),A=function(){function e(){Object(p.a)(this,e),this._apiBase="https://pokeapi.co/api/v2",this._transformPokemons=function(e){return{id:e.url.match(/\/([0-9]*)\/$/)[1],name:e.name}},this._transformPokemon=function(e){return{id:e.id,name:e.name,experience:e.base_experience,height:e.height,weight:e.weight,types:e.types,abilities:e.abilities,stats:e.stats}}}return Object(m.a)(e,[{key:"getResource",value:function(){var e=Object(w.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:if((n=e.sent).ok&&!(Math.random()>.75)){e.next=5;break}throw new Error("Could not fetch ".concat(t,", received ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllPokemons",value:function(){var e=Object(w.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/pokemon/");case 2:return t=e.sent,e.abrupt("return",t.results.map(this._transformPokemons));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokemon",value:function(){var e=Object(w.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/pokemon/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",this._transformPokemon(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),L=(n(44),function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).pokemonService=new A,e.state={pokemon:null},e}return Object(m.a)(n,[{key:"updatePokemon",value:function(){var e=this,t=this.props.pokemonName;t&&this.pokemonService.getPokemon(t).then((function(t){e.setState({pokemon:t})}))}},{key:"componentDidMount",value:function(){this.updatePokemon()}},{key:"componentDidUpdate",value:function(e){this.props.pokemonName!==e.pokemonName&&this.updatePokemon()}},{key:"render",value:function(){var e=this.props.pokemon,t=e.id,n=e.name,c=e.experience,o=e.height,s=e.weight,a=e.types,i=e.abilities,u=n.charAt(0).toUpperCase()+n.slice(1);return Object(r.jsxs)("div",{className:"pokemon-details card",children:[Object(r.jsx)("img",{className:"pokemon-image",src:"https://pokeres.bastionbot.org/images/pokemon/".concat(t,".png"),alt:u}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h4",{children:u}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Base Experience"}),Object(r.jsx)("span",{children:c})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Height"}),Object(r.jsx)("span",{children:o})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Weight"}),Object(r.jsx)("span",{children:s})]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Types"}),a.map((function(e,t,n){return Object(r.jsx)("span",{children:t!==n.length-1?"".concat(e.type.name,", "):"".concat(e.type.name)},e.type.name)}))]}),Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)("span",{className:"term",children:"Abilities"}),i.map((function(e,t,n){return Object(r.jsx)("li",{className:"list-group-item",children:Object(r.jsx)("span",{children:e.ability.name})},e.ability.name)}))]})]})]})]})}}]),n}(c.Component)),T=(n(45),function(){return Object(r.jsx)("div",{className:"header d-flex",children:Object(r.jsx)(u.b,{to:"/",children:Object(r.jsx)("div",{className:"logo",href:"#",children:"Pokemon DB"})})})}),F=(n(46),function(){return Object(r.jsxs)("main",{role:"main",className:"container",children:[Object(r.jsx)(T,{}),Object(r.jsx)("div",{className:"row mb2",children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/",component:P,exact:!0}),Object(r.jsx)(l.a,{path:"/:name",render:function(e){var t=e.match.params.name;return Object(r.jsx)(L,{pokemonName:t})}})]})})]})}),M=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(m.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(r.jsx)(O,{}):this.props.children}}]),n}(c.Component),U=n(18),H=function(e,t){if(void 0===e)return{pokemons:[],loading:!0,error:null};switch(t.type){case"FETCH_ALL_POKEMONS_REQUEST":return{pokemons:[],loading:!0,error:null};case"FETCH_ALL_POKEMONS_SUCCESS":return{pokemons:t.payload,loading:!1,error:null};case"FETCH_ALL_POKEMONS_FAILURE":return{pokemons:[],loading:!1,error:t.payload};default:return e.pokemonList}},R=function(e,t){if(void 0===e)return{pokemon:{},loading:!0,error:null};switch(t.type){case"FETCH_POKEMON_REQUEST":return{pokemon:{},loading:!0,error:null};case"FETCH_POKEMON_SUCCESS":return{pokemon:t.payload,loading:!1,error:null};case"FETCH_POKEMON_FAILURE":return{pokemon:{},loading:!1,error:t.payload};default:return e.pokemonDetails}},K=function(e,t){return{pokemonList:H(e,t),pokemonDetails:R(e,t)}},D=Object(U.b)(K),B=new A;a.a.render(Object(r.jsx)(i.a,{store:D,children:Object(r.jsx)(M,{children:Object(r.jsx)(x,{value:B,children:Object(r.jsx)(u.a,{children:Object(r.jsx)(F,{})})})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.0d0b43f3.chunk.js.map